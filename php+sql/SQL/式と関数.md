## 式と演算子

```
選択列リストへの指定と結果
列名：列の内容がそのまま出力される
計算式：計算式の評価結果が出力される
固定値：固定値がそのまま出力される
```

### 関数について定められていること
```
名前：その関数の名前
引数：その関数を呼び出す際に引き渡す情報（関数によっては2つ以上の場合もある）
戻り値：その関数を呼び出し結果として得られる情報
```

### LENGTH関数の仕様
```
名前：LENGTH
引数：文字列が格納された列（または式）
戻り値：文字列の長さを表す数値
```

```
SELECT メモ, LENGTH（メモ）AS メモの長さ
FROM 家計簿
```

### LENGTH
文字列の長さを取得する

```
LENGTH(文字列を表す列) => 文字列の長さを表す数値
LEN(文字列を表す列) => 文字列の長さを表す数値
```


### TRIM
空白を除去した文字列

### LTRIM
左側の空白を除去した文字列

### RTRIM
右側の空白を除去した文字列

```
TRIM(文字列を表す列) => 左右から空白を除去した文字列
LTRIM(文字列を表す列) => 左側の空白を除去した文字列
RTRIM(文字列を表す列) => 右側の空白を除去した文字列
```

### REPLACE
文字列を置換する
```
REPLACE(置換対象の文字列, 置換前の部分文字列, 置換後の部分文字列)
=> 置換処理された後の文字列
```

### SUBSTRING
一部分を抽出できる
```
SUBSTRING(文字列を表す列, 抽出を開始する位置, 抽出する文字の数)
=> 抽出された部分文字列
SUBSTR(文字列を表す列, 抽出を開始する位置, 抽出する文字の数)
=> 抽出された部分文字列
```

### CONCAT
文字列を連結する
```
CONCAT(文字列, 文字列[, 文字列...])
=> 連結後の文字列
```

### ROUND
指定行を四捨五入

```
ROUND(数列を表す列, 有効とする桁数)
=> 四捨五入した値
```

### TRUNC
指定行で切り捨てる
```
TRUNC(数値を表す列, 有効とする桁数)
=> 切り捨てた値
```

### POWER 
べき乗を計算する
2乗や3乗などの計算式

```
POWER(数値を表す列, 何乗するかを指定する数値)
=> 数値を指定した回数だけ乗じた結果
```

### CURRENT_DATE 
```
CURRENT_DATE => 現在の日付(YYYY-MM-DD)
CURRENT_TIME => 現在の時刻(HH:MM:SS)
引数が不要なため、関数名の後ろに()は付記しない
```

### CAST データ型を変換する
```
CAST(変換する値 AS 変換する型) => 変換後の値
```

### COALESCE 最初に登場するNULLでない値を返す
```
COALESCE(列や式1, 列や式2, 列や式3)
```

## まとめ
### 計算式

* 列やリテラルを使った式で、結果が真または偽にならないものを計算式という
* 計算式を評価すると計算結果に化ける
* 計算式は、SELECT文の選択列リスト、INSERT文やUPDATE文での列に格納する値、その他修飾句など、さまざまな場所で使用することができる。

### 計算式に用いる演算子
* 四則演算を行う演算子を算術演算子という
* ||や+で文字列の連結ができる
* CASE演算子は、列の値や条件式を評価して、任意の値に変換することができる

### 関数
* 関数は、引数に対して決められた処理を行い、戻り値に変換する
* 処理の内容や戻り値に応じて、文字列関数、算術関数、日付関数、変換関数などに分類できる
* 関数は、DBMS製品による違いが大きい機能であるため、処理内容の確認が不可欠である。

WHEREの条件式はANDやORで継続していく